{% extends 'base.html' %}
{% load bootstrap4 %}

{% block content %}

  <div style="text-align: center; max-width: 850px; margin: 4rem auto">
    <div class="mb-4">
      <h4>Article Create</h4>
    </div>
    <form action="{% url 'articleapp:create' %}" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {% bootstrap_form form %}
      <input type="hidden" id="gallery_pk" value="" name="gallery_pk" >
      <input type="submit" class="btn btn-dark rounded-pill col-6 mt-3">
    </form>
  </div>

<script>
    // url 중에서 쿼리스트링 부분 가져오기 그러니까 ?로 시작하는 부분에서 끝까지 다 가져옴
    var search = location.search;
    // URLSearchParams 은 url 쿼리 문자열에 대해서 작업하는 것을 도와준다.
    var params = new URLSearchParams(search);
    // url 쿼리스트링 중에서 키가 'gallery_pk' 것의 '값' 을 getType 변수에 저장
    var getType = params.get('gallery_pk');
    // input 타입 히든인 태그를 아이디로 선택한다음 target 변수에 저장
    var target = document.getElementById("gallery_pk");
    // input 타입 히든의 속성 value 의 값에 getType 의 값을 채워 넣는다. 즉 위 html 에서 value="" 여기의 "" 안에다가 채워 넣는다는 뜻.
    target.setAttribute("value", getType);
  </script>

{% endblock %}